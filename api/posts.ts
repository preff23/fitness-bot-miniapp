// api/posts.ts
import type { VercelRequest, VercelResponse } from "@vercel/node";

export default async function handler(req: VercelRequest, res: VercelResponse) {
  res.setHeader("Cache-Control", "no-store");
  
  try {
    // –ü—Ä–æ—Å—Ç—ã–µ –º–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ—Å—Ç—ã –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–æ–≤–æ—Å—Ç–Ω–æ–π –ª–µ–Ω—Ç—ã
    const mockPosts = [
      {
        id: "100",
        date: Math.floor(Date.now() / 1000) - 1800, // 30 –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥
        text: "üî• –ñ–ò–†–û–°–ñ–ò–ì–ê–Æ–©–ê–Ø –¢–†–ï–ù–ò–†–û–í–ö–ê –ù–ê 20 –ú–ò–ù–£–¢\n\n–°–µ–≥–æ–¥–Ω—è –ø—Ä–µ–¥–ª–∞–≥–∞—é –≤–∞–º –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω—É—é –∫–∞—Ä–¥–∏–æ-—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–º–æ–∂–µ—Ç —Å–∂–µ—á—å –º–∞–∫—Å–∏–º—É–º –∫–∞–ª–æ—Ä–∏–π –∑–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è!\n\nüí™ –í–∫–ª—é—á–∞–µ—Ç: –±–µ—Ä–ø–∏, –ø—Ä—ã–∂–∫–∏, –ø–ª–∞–Ω–∫–∏\n‚è∞ –í—Å–µ–≥–æ 20 –º–∏–Ω—É—Ç\nüî• –°–∂–∏–≥–∞–µ—Ç –¥–æ 300 –∫–∞–ª–æ—Ä–∏–π",
        has_media: false,
        photos: [],
        entities: []
      },
      {
        id: "101", 
        date: Math.floor(Date.now() / 1000) - 7200, // 2 —á–∞—Å–∞ –Ω–∞–∑–∞–¥
        text: "üí° –°–û–í–ï–¢ –î–ù–Ø: –í–ê–ñ–ù–û–°–¢–¨ –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–Ø\n\n–ú–Ω–æ–≥–∏–µ –∑–∞–±—ã–≤–∞—é—Ç, —á—Ç–æ –º—ã—à—Ü—ã —Ä–∞—Å—Ç—É—Ç –Ω–µ –≤–æ –≤—Ä–µ–º—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏, –∞ –≤–æ –≤—Ä–µ–º—è –æ—Ç–¥—ã—Ö–∞!\n\n‚úÖ 7-9 —á–∞—Å–æ–≤ —Å–Ω–∞\n‚úÖ 1-2 –¥–Ω—è –æ—Ç–¥—ã—Ö–∞ –≤ –Ω–µ–¥–µ–ª—é\n‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–∏—Ç–∞–Ω–∏–µ\n\n–ü–æ–º–Ω–∏—Ç–µ: –ø–µ—Ä–µ—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å = —à–∞–≥ –Ω–∞–∑–∞–¥!",
        has_media: false,
        photos: [],
        entities: []
      },
      {
        id: "102",
        date: Math.floor(Date.now() / 1000) - 14400, // 4 —á–∞—Å–∞ –Ω–∞–∑–∞–¥
        text: "ü•ó –†–ï–¶–ï–ü–¢: –ü–†–û–¢–ï–ò–ù–û–í–´–ô –°–ú–£–ó–ò\n\n–ò–¥–µ–∞–ª—å–Ω—ã–π –∑–∞–≤—Ç—Ä–∞–∫ –¥–ª—è —Ç–µ—Ö, –∫—Ç–æ —Ö–æ—á–µ—Ç –ø–æ—Ö—É–¥–µ—Ç—å:\n\n‚Ä¢ 200–º–ª –º–∏–Ω–¥–∞–ª—å–Ω–æ–≥–æ –º–æ–ª–æ–∫–∞\n‚Ä¢ 30–≥ –ø—Ä–æ—Ç–µ–∏–Ω–∞ (–≤–∞–Ω–∏–ª—å)\n‚Ä¢ 1 –±–∞–Ω–∞–Ω\n‚Ä¢ 1 —Å—Ç.–ª. –∞—Ä–∞—Ö–∏—Å–æ–≤–æ–π –ø–∞—Å—Ç—ã\n‚Ä¢ –≥–æ—Ä—Å—Ç—å —à–ø–∏–Ω–∞—Ç–∞\n‚Ä¢ –ª–µ–¥\n\nüìä –ö–∞–ª–æ—Ä–∏–∏: ~350\nüí™ –ë–µ–ª–æ–∫: ~35–≥",
        has_media: false,
        photos: [],
        entities: []
      },
      {
        id: "103",
        date: Math.floor(Date.now() / 1000) - 28800, // 8 —á–∞—Å–æ–≤ –Ω–∞–∑–∞–¥
        text: "‚ö° –ú–û–¢–ò–í–ê–¶–ò–Ø –ü–û–ù–ï–î–ï–õ–¨–ù–ò–ö–ê\n\n\"–¢–≤–æ–µ —Ç–µ–ª–æ –º–æ–∂–µ—Ç –≤—ã–¥–µ—Ä–∂–∞—Ç—å –ø–æ—á—Ç–∏ –≤—Å–µ. –¢–≤–æ–π —Ä–∞–∑—É–º –¥–æ–ª–∂–µ–Ω —É–±–µ–¥–∏—Ç—å –µ–≥–æ –≤ —ç—Ç–æ–º.\"\n\n–ö–∞–∂–¥—ã–π –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ - —ç—Ç–æ –Ω–æ–≤—ã–π —à–∞–Ω—Å —Å—Ç–∞—Ç—å –ª—É—á—à–µ! –ù–µ –æ—Ç–∫–ª–∞–¥—ã–≤–∞–π –Ω–∞ –∑–∞–≤—Ç—Ä–∞ —Ç–æ, —á—Ç–æ –º–æ–∂–µ—à—å —Å–¥–µ–ª–∞—Ç—å —Å–µ–≥–æ–¥–Ω—è.\n\nüéØ –ö–∞–∫–∞—è —Ç–≤–æ—è —Ü–µ–ª—å –Ω–∞ —ç—Ç—É –Ω–µ–¥–µ–ª—é?",
        has_media: false,
        photos: [],
        entities: []
      }
    ];

    res.status(200).json({
      ok: true,
      items: mockPosts,
      total: mockPosts.length,
      message: "Mock fitness posts (no database required)"
    });

  } catch (error: any) {
    console.error("[posts error]", error);
    res.status(200).json({
      ok: false,
      error: error.message || "unknown"
    });
  }
}
