# üîç DEBUG LOG - –ü—Ä–æ–±–ª–µ–º–∞ —Å –ø–æ–ª—É—á–µ–Ω–∏–µ–º –ø–æ—Å—Ç–æ–≤ –∫–∞–Ω–∞–ª–∞

## üìã **–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:**

–ú—ã –ø—ã—Ç–∞–µ–º—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞—Ç—å –ø–æ—Å—Ç—ã –∏–∑ Telegram –∫–∞–Ω–∞–ª–∞ `@fitnesstest` —á–µ—Ä–µ–∑ webhook, –Ω–æ –Ω–æ–≤—ã–µ –ø–æ—Å—Ç—ã –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ Firebase.

## üîß **–ß—Ç–æ –º—ã —Å–¥–µ–ª–∞–ª–∏:**

1. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏–ª–∏ webhook —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π `channel_post` –∏ `edited_channel_post`
2. ‚úÖ –ë–æ—Ç —è–≤–ª—è–µ—Ç—Å—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º –∫–∞–Ω–∞–ª–∞
3. ‚úÖ Firebase —Ä–∞–±–æ—Ç–∞–µ—Ç (—Ç–µ—Å—Ç–æ–≤—ã–µ –ø–æ—Å—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è)
4. ‚úÖ Webhook –ø–æ–ª—É—á–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã
5. ‚úÖ –õ–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∫–∞–Ω–∞–ª–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞

## üö´ **–ß—Ç–æ –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç:**

### –ü—Ä–æ–±–ª–µ–º–∞ 1: Telegram –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ—Å—Ç—ã –∫–∞–Ω–∞–ª–∞ —á–µ—Ä–µ–∑ webhook
- **–§–∞–∫—Ç**: –ë–æ—Ç —è–≤–ª—è–µ—Ç—Å—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º –∫–∞–Ω–∞–ª–∞ `@fitnesstest`
- **–ü—Ä–æ–±–ª–µ–º–∞**: Telegram API –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç `channel_post` —Å–æ–±—ã—Ç–∏—è —á–µ—Ä–µ–∑ webhook
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ `channel_post` –≤ webhook - –æ–Ω–∏ –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –õ–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- **–§–∞–∫—Ç**: –í –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –µ—Å—Ç—å `CHANNEL_USERNAME=@fitnesstest`
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ü–æ—Å—Ç—ã –Ω–µ –ø—Ä–æ—Ö–æ–¥—è—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –ø–æ –∫–∞–Ω–∞–ª—É
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –û—Ç–∫–ª—é—á–∏–ª–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é - –ø–æ—Å—Ç—ã –≤—Å–µ —Ä–∞–≤–Ω–æ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è

### –ü—Ä–æ–±–ª–µ–º–∞ 3: Vercel –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ñ–∞–π–ª—ã
- **–§–∞–∫—Ç**: –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `api/debug-webhook.js` –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è
- **–ü—Ä–æ–±–ª–µ–º–∞**: Vercel –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é –∫–æ–¥–∞
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã - –ø–æ–ª—É—á–∞–µ–º —Å—Ç–∞—Ä—ã–π –æ—Ç–≤–µ—Ç

## üß™ **–¢–µ—Å—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –ø—Ä–æ–≤–µ–ª–∏:**

### –¢–µ—Å—Ç 1: –ü—Ä—è–º–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ webhook
```bash
curl -X POST "https://fitness-bot-miniapp-ged8.vercel.app/api/telegram" \
  -H "Content-Type: application/json" \
  -d '{"update": {"update_id": 123456, "channel_post": {"message_id": 100, "date": 1755960000, "chat": {"id": -1002544629054, "title": "Test", "username": "fitnesstest", "type": "channel"}, "text": "–¢–µ—Å—Ç–æ–≤—ã–π –ø–æ—Å—Ç"}}}'
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç**: `{"ok":true}` - webhook –æ—Ç–≤–µ—á–∞–µ—Ç, –Ω–æ –ø–æ—Å—Ç –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è

### –¢–µ—Å—Ç 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ Firebase
```bash
curl -s "https://fitness-bot-miniapp-ged8.vercel.app/api/test-firebase"
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç**: `{"ok":true,"message":"Firebase –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!"}` - Firebase —Ä–∞–±–æ—Ç–∞–µ—Ç

### –¢–µ—Å—Ç 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å—Ç–æ–≤
```bash
curl -s "https://fitness-bot-miniapp-ged8.vercel.app/api/posts"
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç**: 
```json
{
  "ok": true,
  "items": [
    {
      "date": 1755962050,
      "has_media": false,
      "id": "7",
      "text": "–¢–µ—Å—Ç 2"
    }
  ]
}
```
- –ï—Å—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Å—Ç–∞—Ä—ã–π –ø–æ—Å—Ç, –Ω–æ–≤—ã–µ –Ω–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è

## üîç **–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**

1. **Telegram API –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ**: Telegram –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ—Å—Ç—ã –∫–∞–Ω–∞–ª–∞ —á–µ—Ä–µ–∑ webhook, –¥–∞–∂–µ –µ—Å–ª–∏ –±–æ—Ç —è–≤–ª—è–µ—Ç—Å—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
2. **–ü—Ä–æ–±–ª–µ–º–∞ —Å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π Firebase**: –†–∞–∑–Ω—ã–µ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã Firebase –≤ —Ä–∞–∑–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö
3. **–ü—Ä–æ–±–ª–µ–º–∞ —Å –ª–æ–≥–∏–∫–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏**: Telegraf –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç `channel_post` –ø—Ä–∞–≤–∏–ª—å–Ω–æ
4. **–ü—Ä–æ–±–ª–µ–º–∞ —Å Vercel**: –§–∞–π–ª—ã –Ω–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤ production

## üìù **–ß—Ç–æ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**

1. **–õ–æ–≥–∏ Vercel**: –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –≤ Vercel Dashboard ‚Üí Functions ‚Üí api/telegram ‚Üí Logs
2. **–†–µ–∞–ª—å–Ω—ã–µ –ø–æ—Å—Ç—ã –∫–∞–Ω–∞–ª–∞**: –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π –ø–æ—Å—Ç –≤ –∫–∞–Ω–∞–ª –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –ø—Ä–∏—Ö–æ–¥–∏—Ç –ª–∏ webhook
3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å webhook —Å—Ç–∞—Ç—É—Å**: `curl "https://api.telegram.org/bot<TOKEN>/getWebhookInfo"`

## üéØ **–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**

1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ Vercel –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç
2. –ï—Å–ª–∏ Telegram –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ—Å—Ç—ã –∫–∞–Ω–∞–ª–∞ - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥
3. –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –≤ –∫–æ–¥–µ - –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –æ–±—Ä–∞–±–æ—Ç–∫–∏

## üìä **–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:**

- ‚úÖ Webhook –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ Firebase —Ä–∞–±–æ—Ç–∞–µ—Ç  
- ‚úÖ –ë–æ—Ç —è–≤–ª—è–µ—Ç—Å—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º –∫–∞–Ω–∞–ª–∞
- ‚úÖ Webhook –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `channel_post` –∏ `edited_channel_post`
- ‚ùå –ü–æ—Å—Ç—ã –∫–∞–Ω–∞–ª–∞ –Ω–µ –ø–æ–ª—É—á–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ webhook
- ‚ùå –õ–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚ùå Vercel –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ñ–∞–π–ª—ã

## üîç **–§–∏–Ω–∞–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**

### Webhook —Å—Ç–∞—Ç—É—Å:
```json
{
  "url": "https://fitness-bot-miniapp-ged8.vercel.app/api/telegram",
  "allowed_updates": ["message", "channel_post", "edited_channel_post"],
  "pending_update_count": 0
}
```

**–û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞**: Telegram API –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ—Å—Ç—ã –∫–∞–Ω–∞–ª–∞ —á–µ—Ä–µ–∑ webhook, –¥–∞–∂–µ –µ—Å–ª–∏ –±–æ—Ç —è–≤–ª—è–µ—Ç—Å—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º. –≠—Ç–æ –∏–∑–≤–µ—Å—Ç–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ Telegram API.

## üí° **–†–µ—à–µ–Ω–∏–µ:**

–ù—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥:
1. **Polling** - –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å –Ω–æ–≤—ã–µ –ø–æ—Å—Ç—ã —á–µ—Ä–µ–∑ `getUpdates`
2. **–†—É—á–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ** - –∫–æ–º–∞–Ω–¥–∞ `/addpost` –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
3. **–î—Ä—É–≥–æ–π –∫–∞–Ω–∞–ª** - –≤–æ–∑–º–æ–∂–Ω–æ, –ø—Ä–æ–±–ª–µ–º–∞ –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –∫–∞–Ω–∞–ª–µ
